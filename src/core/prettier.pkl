amends "../../pkl/plugin.pkl"

name = "prettier"

meta {
  url = "https://github.com/prettier/prettier"
  description = """
    Prettier is an opinionated code formatter. It enforces a consistent style by parsing your code 
    and re-printing it with its own rules that take the maximum line length into account, 
    wrapping code when necessary.
  """
  notes = new {
    """
    [TOML](https://github.com/bd82/toml-tools/tree/master/packages/prettier-plugin-toml) via plugins. 
    These filetypes are not enabled by default, but you can follow the instructions 
    [here](BUILTIN_CONFIG.md#filetypes) to define your own list of filetypes.
    """
    """
    To increase speed, you may want to try [prettierd](https://github.com/fsouza/prettierd). 
    You can also set up [eslint-plugin-prettier](https://github.com/prettier/eslint-plugin-prettier) 
    and format via [eslint_d](https://github.com/mantoni/eslint_d.js/).
    """
  }
}

file_types = new {
  "javascript"
  "javascriptreact"
  "typescript"
  "typescriptreact"
  "vue"
  "css"
  "scss"
  "less"
  "html"
  "json"
  "jsonc"
  "yaml"
  "markdown"
  "markdown.mdx"
  "graphql"
  "handlebars"
  "svelte"
  "astro"
  "htmlangular"
}

format {
  command = "prettier"
  args = new { "--stdin-filepath"; "{{ filename }}" }
  to_stdin = true
  // dynamic_command = "node_modules/.bin/prettier"
}
